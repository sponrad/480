<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>480</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  </head>
  <body>
    <div class="container-fluid" id="480">

      <div class="row">
	<div class="col-md-6">
	  <h1>480</h1>
	</div>
	
	<div class="col-md-6">
	  <span>Year: { game.year } | Month: { game.month } | Day: { game.monthday }</span>
	  <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
	  <span style="color: blue;" class="glyphicon glyphicon-play" aria-hidden="true"></span>
	  <span class="glyphicon glyphicon-forward" aria-hidden="true"></span>
	  <span class="glyphicon glyphicon-fast-forward" aria-hidden="true"></span>
	</div>
      </div>
      
      <div class="row">
	<div class="col-md-6">
	  <h2>Name: { game.player.name }</h2>
	  <select class='form-control'><option>Frugal</option><option>Somewhat frugal</option><option>Normal</option><option>Somewhat lavish</option><option>Lavish</option></select>
	  
	  <h2>Humanity: â˜º</h2>

	  <h2>Monthly Income: $4,500 <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span></h2>
	  <h2>Monthly Payments: $3,800</h2>
	  <h2>Net Worth: ${ game.player.networth } <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span></h2>
	  <h2>Assets and Liabilities: <button class="btn btn-primary">Buy something</button></h2>
	  <ul style="list-style-type:none">
	    <li>Cash: <span style="color: green;">$90</span> </li>
	    <li>Student Loan: <span style="color: red;">$45</span> </li>
	    <li>Apartment: $0, $800 rent on the 1st</li>
	    <li>Home Loan: NA</li>
	    <li>Etc.</li>
	  </ul>

	</div>
	
	<div class="col-md-6">
	  <div id="console">Welcome to 480.</div>
	  <h2>Real Estate Market <button class='btn btn-primary'>invest</button></h2>
	  <div id="real_estate_chart_div"></div>
	  <h2>Stock Market <button class='btn btn-primary'>invest</button></h2>
	  <div id="stock_chart_div"></div>
	</div>
	
      </div>
      
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="rivets.bundled.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <script type="text/javascript" src="objects.js"></script>
    <script type="text/javascript" src="functions.js"></script>
    <script type="text/javascript" src="globals.js"></script>
    
    <script>
     function update(){
       game.day += 1;
       game.update();
       game.player.networth += 3;
       //game.processevents
       data.addRow([ (game.day+69), Math.floor(Math.random()*100) ] );
       chart.draw(data, options);
     }
     
     rivets.bind($('#480'), { game: game });
     
     var now,
	 dt   = 0,
	 last = timestamp(),
	 step = 0.5;

     function frame() {
       now = timestamp();
       dt = dt + Math.min(1, (now - last) / 1000);
       while(dt > step) {
	 dt = dt - step;
	 update();
	 //console.log( day );			
       }
       //render(dt);
       last = now;
       requestAnimationFrame(frame);
     }
     
     requestAnimationFrame(frame);
     
     
    </script>
  </body>
</html>
